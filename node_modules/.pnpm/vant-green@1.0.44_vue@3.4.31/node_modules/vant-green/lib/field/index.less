@import '../style/var';
@import '../style/mixins/hairline';

.van-field {
  &__label {
    flex: none;
    margin-right: 20px;
    max-width: @field-label-max-width;
    padding-right: 2px;
    color: @field-input-label-color;

    &--center {
      text-align: center;
    }

    &--right {
      text-align: right;
    }
  }

  &__body {
    display: flex;
    align-items: center;
  }

  &__control {
    display: block;
    box-sizing: border-box;
    width: 100%;
    min-width: 0; // for flex-shrink in field__button
    margin: 0;
    padding: 0;
    color: @field-input-text-color;
    text-align: left;
    background-color: transparent;
    border: 0;
    resize: none;
    caret-color: @color-primary;

    &::placeholder {
      color: @field-placeholder-text-color;
    }

    &:disabled {
      color: @field-input-disabled-text-color;
      -webkit-text-fill-color: @field-input-disabled-text-color; // fix disabled color in iOS
      background-color: transparent;
      opacity: 1;
    }

    &--center {
      text-align: center;
    }

    &--right {
      text-align: right;
    }

    // for ios wechat
    &[type='date'],
    &[type='time'],
    &[type='datetime-local'] {
      min-height: @cell-line-height;
    }

    // for safari
    &[type='search'] {
      -webkit-appearance: none;
    }
  }

  &__clear,
  &__icon,
  &__button,
  &__text,
  &__right-icon {
    flex-shrink: 0;
  }

  &__clear,
  &__right-icon {
    margin-right: -@padding-xs;
    padding: 0 @padding-xs;
    line-height: inherit;
  }

  &__clear {
    color: @field-clear-icon-color;
    font-size: @field-clear-icon-size;
  }

  &__left-icon .van-icon,
  &__right-icon .van-icon {
    display: block;
    min-width: 1em;
    font-size: @field-icon-size;
    line-height: inherit;
  }

  &__left-icon {
    margin-right: 5px;
  }

  &__right-icon {
    color: @field-right-icon-color;
  }

  .van-cell__value {
    overflow: visible;
  }

  &__button-wrapper {
    margin-left: @padding-xs;
    position: relative;
    width: 225px;
    height: 22px;
  }

  &__button {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
  }

  &__text {
    margin-left: @padding-xs;
    color: @field-right-text-color;
  }

  &__error-message {
    color: @field-error-message-color;
    font-size: @field-error-message-text-color;
    text-align: left;

    &--center {
      text-align: center;
    }

    &--right {
      text-align: right;
    }
  }

  &__word-limit {
    margin-top: @padding-base;
    color: @field-word-limit-color;
    font-size: @field-word-limit-font-size;
    line-height: @field-word-limit-line-height;
    text-align: right;
    position: relative;
    bottom: 0;
  }

  &__textarea-label {
    color: @field-textarea-label-color;
    height: @field-textarea-label-line-height;
    line-height: @field-textarea-label-line-height;
    padding: 0 @padding-md;
    font-weight: bold;
  }

  .count {
    color: @field-count-color;
  }

  .max-count {
    color: @field-count-color;
  }

  &__textarea-wrap {
    .van-field {
      padding: @padding-sm @padding-md;
      .van-field__label {
        display: none;
      }
    }

    &--required {
      .van-field__textarea-label-text {
        &::after {
          position: relative;
          top: -2px;
          left: 2px;
          color: @cell-required-color;
          font-size: @cell-font-size;
          content: '*';
          font-weight: normal;
        }
      }
    }
  }

  &__field-wrap {
    &:not(:last-child) {
      .van-cell::after {
        .hairline-bottom(@padding-md);
      }
    }
  }

  &--error {
    .van-field__control {
      &,
      &::placeholder {
        color: @field-input-error-text-color;
        -webkit-text-fill-color: @field-input-error-text-color;
      }
    }
  }

  &--min-height {
    .van-field__control {
      min-height: @field-text-area-min-height;
    }
  }
}
